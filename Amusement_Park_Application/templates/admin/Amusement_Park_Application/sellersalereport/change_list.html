{% extends "admin/change_list.html" %}
{% load humanize %}

{% block result_list %}
<div class="results">
    <table>
        <thead>
            <tr>
                <th>
                    <div class="text">
                        <a href="#">نام فروشنده</a>
                    </div>
                </th>
                <th>
                    <div class="text">
                        <a href="#">تعداد فروش</a>
                    </div>
                </th>
                <th>
                    <div class="text">
                        <a href="#">تعداد محصولات فروخته شده</a>
                    </div>
                </th>
                <th>
                    <div class="text">
                        <a href="#">کل درآمد - ریال</a>
                    </div>
                </th>
            </tr>
        </thead>
        <tbody>
            {% for row in summary %}
            <tr>
                <td>{{ row.user__first_name }} {{ row.user__last_name }}</td>
                <td>{{ row.total_sales|intcomma }}</td>
                <td>{{ row.total_products_sold|intcomma }}</td>
                <td>{{ row.total_revenue|default:0|intcomma:False }}</td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr style="font-weight:bold; border-top:4px solid #DDDDDD;">
                <td>مجموع</td>
                <td>{{ summary_total.total_sales|intcomma:False }}</td>
                <td>{{ summary_total.total_products_sold|intcomma:False }}</td>
                <td>{{ summary_total.total_revenue|default:0|intcomma:False }}</td>
            </tr>
        </tfoot>
    </table>

    <br><br><br>
    <p style="font-size: 80%; color: white; background-color:rgb(0, 0, 0); padding: 10px 15px; border: 2px solid #4CAF50; border-radius: 10px; line-height: 1.6; margin-bottom: 12px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
        <span style="font-weight: bold; color: #4CAF50;">نکته:</span> این جدول یک مجموعه آماری از فروش‌های موفق است.
    </p>
    <p style="font-size: 80%; color: white; background-color:rgb(0, 0, 0); padding: 10px 15px; border: 2px solid yellow; border-radius: 10px; line-height: 1.6; margin-bottom: 12px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
        <span style="font-weight: bold; color: yellow;">نکته:</span> این آمار حاصل "فروش محصولات" است فارغ از محاسبه مالیات و تخفیف‌ها.
    </p>
    <p style="font-size: 75%; color: white; background-color:rgb(0, 0, 0); padding: 10px 15px; border: 2px solid blue; border-radius: 10px; line-height: 1.6; margin-bottom: 12px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
        <span style="font-weight: bold; color: blue;">نکته:</span> تعداد فروش به معنای تعداد فاکتور ثبت شده است و ممکن است در یک فاکتور چهار عدد از یک محصول ثبت شده باشد
    </p>
    <p style="font-size: 80%; color: white; background-color:rgb(0, 0, 0); padding: 10px 15px; border: 2px solid red; border-radius: 10px; line-height: 1.6; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
        <span style="font-weight: bold; color: red">نکته:</span> برای مشاهده مجموع مالیات‌ها و تخفیف‌ها می‌توانید به بخش "فروش‌ها" مراجعه کنید.
    </p>

</div>
{% endblock %}

{% block pagination %}{% endblock %}
